{"ast":null,"code":"var _jsxFileName = \"/Users/alexanderrezaei/Desktop/project-exam-2-alexrezaei/src/components/profile/UpdateMedia.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { BASE_URL } from \"../../api/api\";\nimport { getUser, getToken } from \"../storage/Storage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UpdateMedia(props) {\n  _s();\n  var _errors$avatar;\n  const user = getUser();\n  const token = getToken();\n  const regex = /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/;\n  let avatar = \"\";\n  let banner = \"\";\n  const onSubmit = data => {\n    avatar = data.avatar;\n    banner = data.banner;\n    submitUpdate(avatar, banner);\n  };\n  async function submitUpdate(avatar, banner) {\n    const url = BASE_URL + \"/social/profiles/\" + user + \"/media\";\n    const data = JSON.stringify({\n      avatar: avatar,\n      banner: banner\n    });\n    const headers = {\n      method: \"PUT\",\n      body: data,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      }\n    };\n    try {\n      const res = await fetch(url, headers);\n      const json = await res.json();\n    } catch {}\n  }\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      className: \"my-[0] mx-[auto] flex flex-col w-[100%] max-w-[600px] h-[100%] items-center rounded-[10px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-[100%] pl-[30px] pr-[41px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          ...register(\"avatar\", {\n            pattern: {\n              value: regex,\n              message: \"needs to be a full link\"\n            }\n          }),\n          type: \"text\",\n          placeholder: \"Avatar / optional\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: (_errors$avatar = errors.avatar) === null || _errors$avatar === void 0 ? void 0 : _errors$avatar.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register(\"banner\"),\n          type: \"text\",\n          placeholder: \"Banner / optional\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center mt-[24px]\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(UpdateMedia, \"RyzdsH99oRiC6Tk17zdHQ1P7Rik=\", false, function () {\n  return [useForm];\n});\n_c = UpdateMedia;\nexport default UpdateMedia;\nvar _c;\n$RefreshReg$(_c, \"UpdateMedia\");","map":{"version":3,"names":["React","useState","useEffect","useForm","BASE_URL","getUser","getToken","UpdateMedia","props","user","token","regex","avatar","banner","onSubmit","data","submitUpdate","url","JSON","stringify","headers","method","body","Authorization","res","fetch","json","register","handleSubmit","formState","errors","pattern","value","message"],"sources":["/Users/alexanderrezaei/Desktop/project-exam-2-alexrezaei/src/components/profile/UpdateMedia.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { BASE_URL } from \"../../api/api\";\nimport { getUser, getToken } from \"../storage/Storage\"\nfunction UpdateMedia(props) {\n    const user = getUser()\n    const token = getToken()\n    const regex = /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/\n    let avatar = \"\"\n    let banner = \"\"\n    const onSubmit = (data) => {\n        avatar = data.avatar;\n        banner = data.banner;\n        submitUpdate(avatar, banner)\n    }\n    async function submitUpdate (avatar, banner) {\n        const url = BASE_URL + \"/social/profiles/\" + user + \"/media\"\n        const data = JSON.stringify({\n            avatar: avatar,\n            banner: banner,\n        });\n        const headers = {\n            method: \"PUT\",\n            body: data,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: \"Bearer \" + token,\n            },\n\n        };\n\n        try {\n            const res = await fetch(url, headers)\n            const json = await res.json()\n        }catch{}\n    }\n    const {\n        register,\n        handleSubmit,\n        formState: { errors },\n    } = useForm();\n\n    return (\n        <div>\n            <form onSubmit={handleSubmit(onSubmit)} className='my-[0] mx-[auto] flex flex-col w-[100%] max-w-[600px] h-[100%] items-center rounded-[10px]'>\n                <div className='flex flex-col w-[100%] pl-[30px] pr-[41px]'>\n                    <input {...register(\"avatar\", {pattern: {\n                        value: regex,\n                        message: \"needs to be a full link\"\n                    }})} type=\"text\"  placeholder=\"Avatar / optional\" />\n                    <p>{errors.avatar?.message}</p>\n                    <input {...register(\"banner\")} type=\"text\" placeholder=\"Banner / optional\" />\n                </div>\n                <div className='flex flex-col items-center mt-[24px]'>\n                    <button>Update</button>\n                </div>\n            </form>\n        </div>\n  )\n}\n\nexport default UpdateMedia"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,QAAQ,QAAQ,eAAe;AACxC,SAASC,OAAO,EAAEC,QAAQ,QAAQ,oBAAoB;AAAA;AACtD,SAASC,WAAW,CAACC,KAAK,EAAE;EAAA;EAAA;EACxB,MAAMC,IAAI,GAAGJ,OAAO,EAAE;EACtB,MAAMK,KAAK,GAAGJ,QAAQ,EAAE;EACxB,MAAMK,KAAK,GAAG,mNAAmN;EACjO,IAAIC,MAAM,GAAG,EAAE;EACf,IAAIC,MAAM,GAAG,EAAE;EACf,MAAMC,QAAQ,GAAIC,IAAI,IAAK;IACvBH,MAAM,GAAGG,IAAI,CAACH,MAAM;IACpBC,MAAM,GAAGE,IAAI,CAACF,MAAM;IACpBG,YAAY,CAACJ,MAAM,EAAEC,MAAM,CAAC;EAChC,CAAC;EACD,eAAeG,YAAY,CAAEJ,MAAM,EAAEC,MAAM,EAAE;IACzC,MAAMI,GAAG,GAAGb,QAAQ,GAAG,mBAAmB,GAAGK,IAAI,GAAG,QAAQ;IAC5D,MAAMM,IAAI,GAAGG,IAAI,CAACC,SAAS,CAAC;MACxBP,MAAM,EAAEA,MAAM;MACdC,MAAM,EAAEA;IACZ,CAAC,CAAC;IACF,MAAMO,OAAO,GAAG;MACZC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEP,IAAI;MACVK,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClCG,aAAa,EAAE,SAAS,GAAGb;MAC/B;IAEJ,CAAC;IAED,IAAI;MACA,MAAMc,GAAG,GAAG,MAAMC,KAAK,CAACR,GAAG,EAAEG,OAAO,CAAC;MACrC,MAAMM,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,EAAE;IACjC,CAAC,OAAK,CAAC;EACX;EACA,MAAM;IACFC,QAAQ;IACRC,YAAY;IACZC,SAAS,EAAE;MAAEC;IAAO;EACxB,CAAC,GAAG3B,OAAO,EAAE;EAEb,oBACI;IAAA,uBACI;MAAM,QAAQ,EAAEyB,YAAY,CAACd,QAAQ,CAAE;MAAC,SAAS,EAAC,4FAA4F;MAAA,wBAC1I;QAAK,SAAS,EAAC,4CAA4C;QAAA,wBACvD;UAAA,GAAWa,QAAQ,CAAC,QAAQ,EAAE;YAACI,OAAO,EAAE;cACpCC,KAAK,EAAErB,KAAK;cACZsB,OAAO,EAAE;YACb;UAAC,CAAC,CAAC;UAAE,IAAI,EAAC,MAAM;UAAE,WAAW,EAAC;QAAmB;UAAA;UAAA;UAAA;QAAA,QAAG,eACpD;UAAA,4BAAIH,MAAM,CAAClB,MAAM,mDAAb,eAAeqB;QAAO;UAAA;UAAA;UAAA;QAAA,QAAK,eAC/B;UAAA,GAAWN,QAAQ,CAAC,QAAQ,CAAC;UAAE,IAAI,EAAC,MAAM;UAAC,WAAW,EAAC;QAAmB;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAC3E,eACN;QAAK,SAAS,EAAC,sCAAsC;QAAA,uBACjD;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAuB;QAAA;QAAA;QAAA;MAAA,QACrB;IAAA;MAAA;MAAA;MAAA;IAAA;EACH;IAAA;IAAA;IAAA;EAAA,QACL;AAEd;AAAC,GAvDQpB,WAAW;EAAA,QAoCZJ,OAAO;AAAA;AAAA,KApCNI,WAAW;AAyDpB,eAAeA,WAAW;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}