{"ast":null,"code":"var _jsxFileName = \"/Users/alexanderrezaei/Desktop/project-exam-2-alexrezaei/src/components/SinglePost.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useState, useEffect } from \"react\";\nimport { getToken } from \"./storage/Storage\";\nimport { BASE_URL } from \"../api/api\";\nimport Navigationbar from './Navigationbar';\nimport ReactPost from \"./ReactPost\";\nimport blankProfile from \"../assets/blankprofile.png\";\nimport Comments from './Comments';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SinglePost() {\n  _s();\n  const [postInfo, setPostInfo] = useState({\n    author: \"\",\n    body: \"\",\n    comments: \"\",\n    created: \"\",\n    id: \"\",\n    media: \"\",\n    reactions: \"\",\n    tags: \"\",\n    title: \"\",\n    updated: \"\",\n    _count: {\n      comments: 0,\n      reactions: 0\n    }\n  });\n  const {\n    postId\n  } = useParams();\n  const token = getToken();\n  const url = BASE_URL + \"/social/posts/\" + postId + \"?_author=true&_comments=true&_reactions=true\";\n  useEffect(() => {\n    getSinglePost();\n  }, []);\n  async function getSinglePost() {\n    const options = {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    };\n    try {\n      const res = await fetch(url, options);\n      const json = await res.json();\n      setPostInfo(json);\n    } catch {}\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"px-[70px]\",\n    children: [/*#__PURE__*/_jsxDEV(Navigationbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-[650px] px-[20px] py-[20px] mt-[70px] bg-[#1A1919] mx-[auto] rounded-[10px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-[80px] h-[80px]\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-full h-full rounded-[5px]\",\n            src: postInfo.author.avatar ? postInfo.author.avatar : blankProfile,\n            alt: \"User avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          className: \"text-[20px] text-[#13D5FF]\",\n          to: \"/profile/\" + postInfo.author.name,\n          children: postInfo.author.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap justify-between mt-[20px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Title: \", postInfo.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Post date: \", postInfo.created]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-[1px] border-solid border-white min-h-[100px] rounded-[5px] my-[15px] p-[10px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: postInfo.body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: postInfo.media ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: postInfo.media,\n            alt: \"user posted media\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 26\n          }, this) : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mr-[20px]\",\n            children: [postInfo._count.comments, \" comments\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [postInfo._count.reactions, \" \\u2764\\uFE0F\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ReactPost, {\n          id: postInfo.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Comments, {\n        comments: postInfo.comments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(SinglePost, \"WafsRvsQGPCbv7gFyneIAUcbI98=\", false, function () {\n  return [useParams];\n});\n_c = SinglePost;\nexport default SinglePost;\nvar _c;\n$RefreshReg$(_c, \"SinglePost\");","map":{"version":3,"names":["React","useParams","Link","useState","useEffect","getToken","BASE_URL","Navigationbar","ReactPost","blankProfile","Comments","SinglePost","postInfo","setPostInfo","author","body","comments","created","id","media","reactions","tags","title","updated","_count","postId","token","url","getSinglePost","options","headers","Authorization","res","fetch","json","avatar","name"],"sources":["/Users/alexanderrezaei/Desktop/project-exam-2-alexrezaei/src/components/SinglePost.js"],"sourcesContent":["import React from 'react'\nimport { useParams, Link } from 'react-router-dom';\nimport { useState, useEffect } from \"react\";\nimport { getToken } from \"./storage/Storage\"\nimport { BASE_URL } from \"../api/api\";\nimport Navigationbar from './Navigationbar';\nimport ReactPost  from \"./ReactPost\";\nimport blankProfile  from \"../assets/blankprofile.png\";\nimport Comments from './Comments';\nfunction SinglePost() {\n\tconst [postInfo, setPostInfo] = useState({\n\t\tauthor: \"\",\n\t\tbody: \"\",\n\t\tcomments: \"\",\n\t\tcreated: \"\",\n\t\tid: \"\",\n\t\tmedia: \"\",\n\t\treactions: \"\",\n\t\ttags: \"\",\n\t\ttitle: \"\",\n\t\tupdated: \"\",\n\t\t_count: {\n\t\t\tcomments: 0,\n\t\t\treactions: 0,\n\t\t}\n\t})\n\tconst { postId } = useParams();\n\tconst token = getToken();\n\tconst url = BASE_URL + \"/social/posts/\" + postId + \"?_author=true&_comments=true&_reactions=true\";\n\n\tuseEffect(() => {\n\t\tgetSinglePost()\n\t}, [])\n\n\tasync function getSinglePost() {\n\t\tconst options = {\n\t\t\theaders: {\n\t\t\t\tAuthorization: \"Bearer \" + token,\n\t\t\t},\n\t\t}\n\t\ttry {\n\t\t\tconst res = await fetch(url, options)\n\t\t\tconst json = await res.json()\n\t\t\tsetPostInfo(json)\n\t\t}catch{}\n\t}\n\n  return (\n    <div className='px-[70px]'>\n\t\t\t<Navigationbar />\n\t\t\t<div className='max-w-[650px] px-[20px] py-[20px] mt-[70px] bg-[#1A1919] mx-[auto] rounded-[10px]'>\n\t\t\t\t\t<div className='flex flex-col items-center'>\n\t\t\t\t\t\t<div className='w-[80px] h-[80px]'>\n\t\t\t\t\t\t\t<img className='w-full h-full rounded-[5px]' src={postInfo.author.avatar ? postInfo.author.avatar : blankProfile } alt='User avatar'/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Link className='text-[20px] text-[#13D5FF]' to={\"/profile/\" + postInfo.author.name}>{postInfo.author.name}</Link>\n\t\t\t\t\t</div>\n\t\t\t\t<div className='flex flex-wrap justify-between mt-[20px]'>\n\t\t\t\t\t<p>Title: {postInfo.title}</p>\n\t\t\t\t\t<p>Post date: {postInfo.created}</p>\n\t\t\t\t</div>\n\t\t\t\t<div className='border-[1px] border-solid border-white min-h-[100px] rounded-[5px] my-[15px] p-[10px]'>\n\t\t\t\t\t<p>{postInfo.body}</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{postInfo.media ? (<img src={postInfo.media} alt='user posted media' />) : \"\" }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='flex justify-between'>\n\t\t\t\t\t<div className='flex'>\n\t\t\t\t\t\t<p className='mr-[20px]'>{postInfo._count.comments} comments</p>\n\t\t\t\t\t\t<p>{postInfo._count.reactions} ❤️</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ReactPost id={postInfo.id} />\n\t\t\t\t</div>\n\t\t\t\t<Comments comments={postInfo.comments}/>\n\t\t\t</div>\n\t\t</div>\n  )\n}\n\nexport default SinglePost"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,IAAI,QAAQ,kBAAkB;AAClD,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,mBAAmB;AAC5C,SAASC,QAAQ,QAAQ,YAAY;AACrC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,SAAS,MAAO,aAAa;AACpC,OAAOC,YAAY,MAAO,4BAA4B;AACtD,OAAOC,QAAQ,MAAM,YAAY;AAAC;AAClC,SAASC,UAAU,GAAG;EAAA;EACrB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC;IACxCW,MAAM,EAAE,EAAE;IACVC,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,EAAE,EAAE,EAAE;IACNC,KAAK,EAAE,EAAE;IACTC,SAAS,EAAE,EAAE;IACbC,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE,EAAE;IACTC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAE;MACPR,QAAQ,EAAE,CAAC;MACXI,SAAS,EAAE;IACZ;EACD,CAAC,CAAC;EACF,MAAM;IAAEK;EAAO,CAAC,GAAGxB,SAAS,EAAE;EAC9B,MAAMyB,KAAK,GAAGrB,QAAQ,EAAE;EACxB,MAAMsB,GAAG,GAAGrB,QAAQ,GAAG,gBAAgB,GAAGmB,MAAM,GAAG,8CAA8C;EAEjGrB,SAAS,CAAC,MAAM;IACfwB,aAAa,EAAE;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,aAAa,GAAG;IAC9B,MAAMC,OAAO,GAAG;MACfC,OAAO,EAAE;QACRC,aAAa,EAAE,SAAS,GAAGL;MAC5B;IACD,CAAC;IACD,IAAI;MACH,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEE,OAAO,CAAC;MACrC,MAAMK,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,EAAE;MAC7BrB,WAAW,CAACqB,IAAI,CAAC;IAClB,CAAC,OAAK,CAAC;EACR;EAEC,oBACE;IAAK,SAAS,EAAC,WAAW;IAAA,wBAC3B,QAAC,aAAa;MAAA;MAAA;MAAA;IAAA,QAAG,eACjB;MAAK,SAAS,EAAC,mFAAmF;MAAA,wBAChG;QAAK,SAAS,EAAC,4BAA4B;QAAA,wBAC1C;UAAK,SAAS,EAAC,mBAAmB;UAAA,uBACjC;YAAK,SAAS,EAAC,6BAA6B;YAAC,GAAG,EAAEtB,QAAQ,CAACE,MAAM,CAACqB,MAAM,GAAGvB,QAAQ,CAACE,MAAM,CAACqB,MAAM,GAAG1B,YAAc;YAAC,GAAG,EAAC;UAAa;YAAA;YAAA;YAAA;UAAA;QAAE;UAAA;UAAA;UAAA;QAAA,QACjI,eACN,QAAC,IAAI;UAAC,SAAS,EAAC,4BAA4B;UAAC,EAAE,EAAE,WAAW,GAAGG,QAAQ,CAACE,MAAM,CAACsB,IAAK;UAAA,UAAExB,QAAQ,CAACE,MAAM,CAACsB;QAAI;UAAA;UAAA;UAAA;QAAA,QAAQ;MAAA;QAAA;QAAA;QAAA;MAAA,QAC7G,eACP;QAAK,SAAS,EAAC,0CAA0C;QAAA,wBACxD;UAAA,sBAAWxB,QAAQ,CAACU,KAAK;QAAA;UAAA;UAAA;UAAA;QAAA,QAAK,eAC9B;UAAA,0BAAeV,QAAQ,CAACK,OAAO;QAAA;UAAA;UAAA;UAAA;QAAA,QAAK;MAAA;QAAA;QAAA;QAAA;MAAA,QAC/B,eACN;QAAK,SAAS,EAAC,uFAAuF;QAAA,wBACrG;UAAA,UAAIL,QAAQ,CAACG;QAAI;UAAA;UAAA;UAAA;QAAA,QAAK,eACtB;UAAA,UACEH,QAAQ,CAACO,KAAK,gBAAI;YAAK,GAAG,EAAEP,QAAQ,CAACO,KAAM;YAAC,GAAG,EAAC;UAAmB;YAAA;YAAA;YAAA;UAAA,QAAG,GAAI;QAAE;UAAA;UAAA;UAAA;QAAA,QACxE;MAAA;QAAA;QAAA;QAAA;MAAA,QACD,eACN;QAAK,SAAS,EAAC,sBAAsB;QAAA,wBACpC;UAAK,SAAS,EAAC,MAAM;UAAA,wBACpB;YAAG,SAAS,EAAC,WAAW;YAAA,WAAEP,QAAQ,CAACY,MAAM,CAACR,QAAQ;UAAA;YAAA;YAAA;YAAA;UAAA,QAAc,eAChE;YAAA,WAAIJ,QAAQ,CAACY,MAAM,CAACJ,SAAS;UAAA;YAAA;YAAA;YAAA;UAAA,QAAQ;QAAA;UAAA;UAAA;UAAA;QAAA,QAChC,eACN,QAAC,SAAS;UAAC,EAAE,EAAER,QAAQ,CAACM;QAAG;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QACzB,eACN,QAAC,QAAQ;QAAC,QAAQ,EAAEN,QAAQ,CAACI;MAAS;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA,QACnC;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAER;AAAC,GArEQL,UAAU;EAAA,QAiBCV,SAAS;AAAA;AAAA,KAjBpBU,UAAU;AAuEnB,eAAeA,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}